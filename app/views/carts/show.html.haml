%p#notice= notice
%p

.btn.btn-primary.keep-shopping
  = link_to 'Go back to products', products_path

%table.table.table-striped.table-bordered
  %thead.thead-dark
    %tr
      %th{:scope => "col"} Product
      %th{:scope => "col"} Price
  %tbody
    - @products_in_cart=@cart.order_items
    - @products_in_cart.each do |item|
      %tr
        %td
          = item.quantity
          X
          = item.product.name
          (
          = number_to_currency(item.product.price)
          )

          .has-text-right
            = link_to 'Remove Item', item, method: :delete, data: { confirm: "Are you sure? " }, class: "button is-small mb4"
        %td
          = number_to_currency(item.total_price)
  %tfooter
    %tr
      %td
        %h5 Total:
      %td
        = number_to_currency(@cart.total_price)
    
= button_to 'Empty Cart', @cart, method: :delete, data: {confirm: "Are you sure?"}, class: "button is-danger"


- if can? :manage, Cart  
  = link_to 'Edit', edit_cart_path(@cart)
  |
  = link_to 'Back', carts_path
